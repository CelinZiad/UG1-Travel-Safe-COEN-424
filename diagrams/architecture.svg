<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 4055.33px; background-color: white;" viewBox="0 0 4055.328125 1166" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Clients" data-look="classic"><rect style="" x="2384.53125" y="554" width="310" height="332"/><g class="cluster-label" transform="translate(2514.9609375, 554)"><foreignObject width="49.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Clients</p></span></div></foreignObject></g></g><g class="cluster" id="Serving" data-look="classic"><rect style="" x="2800.0625" y="8" width="1247.265625" height="268"/><g class="cluster-label" transform="translate(3397.7890625, 8)"><foreignObject width="51.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Serving</p></span></div></foreignObject></g></g><g class="cluster" id="Processing" data-look="classic"><rect style="" x="1320.28125" y="296" width="2242.890625" height="238"/><g class="cluster-label" transform="translate(2404.765625, 296)"><foreignObject width="73.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Processing</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="950.5625" y="906" width="3096.765625" height="252"/><g class="cluster-label" transform="translate(2398.9453125, 906)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>S3 Data Lake (ug1-travel-safe-bucket)</p></span></div></foreignObject></g></g><g class="cluster" id="Ingestion" data-look="classic"><rect style="" x="518" y="911" width="310" height="220"/><g class="cluster-label" transform="translate(640.6640625, 911)"><foreignObject width="64.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Ingestion</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M268,1026L288.833,1026C309.667,1026,351.333,1026,393,1026C434.667,1026,476.333,1026,500.667,1026C525,1026,532,1026,535.5,1026L539,1026" id="L_CKAN_ING_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CKAN_ING_0" data-points="W3sieCI6MjY4LCJ5IjoxMDI2fSx7IngiOjM5MywieSI6MTAyNn0seyJ4Ijo1MTgsInkiOjEwMjZ9LHsieCI6NTQzLCJ5IjoxMDI2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M777.224,987L785.687,983.833C794.149,980.667,811.075,974.333,829.751,971.167C848.427,968,868.854,968,889.281,968C909.708,968,930.135,968,957.605,968C985.076,968,1019.589,968,1036.845,968L1054.102,968" id="L_ING_RAW_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ING_RAW_0" data-points="W3sieCI6Nzc3LjIyNDEzNzkzMTAzNDQsInkiOjk4N30seyJ4Ijo4MjgsInkiOjk2OH0seyJ4Ijo4ODkuMjgxMjUsInkiOjk2OH0seyJ4Ijo5NTAuNTYyNSwieSI6OTY4fSx7IngiOjEwNTguMTAxNTYyNSwieSI6OTY4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M777.224,1065L785.687,1068.167C794.149,1071.333,811.075,1077.667,829.751,1080.833C848.427,1084,868.854,1084,889.281,1084C909.708,1084,930.135,1084,943.849,1084C957.563,1084,964.563,1084,968.063,1084L971.563,1084" id="L_ING_REF_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ING_REF_0" data-points="W3sieCI6Nzc3LjIyNDEzNzkzMTAzNDQsInkiOjEwNjV9LHsieCI6ODI4LCJ5IjoxMDg0fSx7IngiOjg4OS4yODEyNSwieSI6MTA4NH0seyJ4Ijo5NTAuNTYyNSwieSI6MTA4NH0seyJ4Ijo5NzUuNTYyNSwieSI6MTA4NH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1153.023,968L1173.84,968C1194.656,968,1236.289,968,1264.165,968C1292.042,968,1306.161,968,1335.44,879.647C1364.719,791.293,1409.156,614.586,1431.375,526.233L1453.594,437.879" id="L_RAW_EMR_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RAW_EMR_0" data-points="W3sieCI6MTE1My4wMjM0Mzc1LCJ5Ijo5Njh9LHsieCI6MTI3Ny45MjE4NzUsInkiOjk2OH0seyJ4IjoxMzIwLjI4MTI1LCJ5Ijo5Njh9LHsieCI6MTQ1NC41Njk1MTg3MTY1Nzc1LCJ5Ijo0MzR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1577.438,407L1581.604,407C1585.771,407,1594.104,407,1601.771,407C1609.438,407,1616.438,407,1619.938,407L1623.438,407" id="L_EMR_CLEAN_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EMR_CLEAN_0" data-points="W3sieCI6MTU3Ny40Mzc1LCJ5Ijo0MDd9LHsieCI6MTYwMi40Mzc1LCJ5Ijo0MDd9LHsieCI6MTYyNy40Mzc1LCJ5Ijo0MDd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1887.438,407L1896.232,407C1905.026,407,1922.615,407,1955.276,506.019C1987.937,605.037,2035.672,803.074,2059.539,902.093L2083.406,1001.111" id="L_CLEAN_CUR_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CLEAN_CUR_0" data-points="W3sieCI6MTg4Ny40Mzc1LCJ5Ijo0MDd9LHsieCI6MTk0MC4yMDMxMjUsInkiOjQwN30seyJ4IjoyMDg0LjM0MzU1LCJ5IjoxMDA1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2188.734,1032L2205.051,1032C2221.367,1032,2254,1032,2286.633,1032C2319.266,1032,2351.898,1032,2392.112,943.81C2432.326,855.62,2480.122,679.241,2504.019,591.051L2527.917,502.861" id="L_CUR_JOIN_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CUR_JOIN_0" data-points="W3sieCI6MjE4OC43MzQzNzUsInkiOjEwMzJ9LHsieCI6MjI4Ni42MzI4MTI1LCJ5IjoxMDMyfSx7IngiOjIzODQuNTMxMjUsInkiOjEwMzJ9LHsieCI6MjUyOC45NjMwNjgxODE4MTgsInkiOjQ5OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2669.531,477.613L2673.698,478.177C2677.865,478.742,2686.198,479.871,2699.159,480.435C2712.12,481,2729.708,481,2747.297,481C2764.885,481,2782.474,481,2814.945,559.362C2847.416,637.724,2894.769,794.447,2918.445,872.809L2942.122,951.171" id="L_JOIN_CURA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_JOIN_CURA_0" data-points="W3sieCI6MjY2OS41MzEyNSwieSI6NDc3LjYxMjkwMzIyNTgwNjQ2fSx7IngiOjI2OTQuNTMxMjUsInkiOjQ4MX0seyJ4IjoyNzQ3LjI5Njg3NSwieSI6NDgxfSx7IngiOjI4MDAuMDYyNSwieSI6NDgxfSx7IngiOjI5NDMuMjc4ODc0MjY5MDA2LCJ5Ijo5NTV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2669.531,446.581L2673.698,446.151C2677.865,445.72,2686.198,444.86,2699.159,444.43C2712.12,444,2729.708,444,2747.297,444C2764.885,444,2782.474,444,2817.102,444C2851.729,444,2903.396,444,2966.988,444C3030.581,444,3106.099,444,3181.617,444C3257.135,444,3332.654,444,3396.246,444C3459.839,444,3511.505,444,3553.935,532C3596.365,620,3629.557,796,3662.106,888.308C3694.655,980.616,3726.561,989.233,3742.514,993.541L3758.466,997.849" id="L_JOIN_SRV_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_JOIN_SRV_0" data-points="W3sieCI6MjY2OS41MzEyNSwieSI6NDQ2LjU4MDY0NTE2MTI5MDN9LHsieCI6MjY5NC41MzEyNSwieSI6NDQ0fSx7IngiOjI3NDcuMjk2ODc1LCJ5Ijo0NDR9LHsieCI6MjgwMC4wNjI1LCJ5Ijo0NDR9LHsieCI6Mjk1NS4wNjI1LCJ5Ijo0NDR9LHsieCI6MzE4MS42MTcxODc1LCJ5Ijo0NDR9LHsieCI6MzQwOC4xNzE4NzUsInkiOjQ0NH0seyJ4IjozNTYzLjE3MTg3NSwieSI6NDQ0fSx7IngiOjM2NjIuNzUsInkiOjk3Mn0seyJ4IjozNzYyLjMyODEyNSwieSI6OTk4Ljg5MjEyNTUwMTkzOTd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3085.063,994L3101.155,994C3117.247,994,3149.432,994,3200.696,897.127C3251.96,800.253,3322.304,606.507,3357.475,509.633L3392.647,412.76" id="L_CURA_AGG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CURA_AGG_0" data-points="W3sieCI6MzA4NS4wNjI1LCJ5Ijo5OTR9LHsieCI6MzE4MS42MTcxODc1LCJ5Ijo5OTR9LHsieCI6MzM5NC4wMTIyMDcwMzEyNSwieSI6NDA5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3462.631,409L3479.388,421C3496.145,433,3529.658,457,3563.011,558C3596.365,659,3629.557,837,3662.086,927.319C3694.614,1017.637,3726.478,1020.274,3742.41,1021.593L3758.342,1022.911" id="L_AGG_SRV_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AGG_SRV_0" data-points="W3sieCI6MzQ2Mi42MzEzMzQ0NTk0NTk2LCJ5Ijo0MDl9LHsieCI6MzU2My4xNzE4NzUsInkiOjQ4MX0seyJ4IjozNjYyLjc1LCJ5IjoxMDE1fSx7IngiOjM3NjIuMzI4MTI1LCJ5IjoxMDIzLjI0MTEzNTIzNDQ2NTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3538.172,370L3542.339,370C3546.505,370,3554.839,370,3575.602,318.5C3596.365,267,3629.557,164,3662.086,113.957C3694.615,63.915,3726.48,66.83,3742.412,68.287L3758.345,69.744" id="L_AGG_DDB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AGG_DDB_0" data-points="W3sieCI6MzUzOC4xNzE4NzUsInkiOjM3MH0seyJ4IjozNTYzLjE3MTg3NSwieSI6MzcwfSx7IngiOjM2NjIuNzUsInkiOjYxfSx7IngiOjM3NjIuMzI4MTI1LCJ5Ijo3MC4xMDg2MjMxNTM4ODI4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3030.133,98L3055.38,98C3080.628,98,3131.122,98,3171.808,101.067C3212.494,104.133,3243.371,110.266,3258.81,113.333L3274.249,116.399" id="L_GATE_API_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_GATE_API_0" data-points="W3sieCI6MzAzMC4xMzI4MTI1LCJ5Ijo5OH0seyJ4IjozMTgxLjYxNzE4NzUsInkiOjk4fSx7IngiOjMyNzguMTcxODc1LCJ5IjoxMTcuMTc4NDE5OTQ1NTE1MzZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3538.172,111.129L3542.339,110.108C3546.505,109.086,3554.839,107.043,3575.602,106.022C3596.365,105,3629.557,105,3662.087,103.404C3694.616,101.808,3726.482,98.615,3742.415,97.019L3758.348,95.423" id="L_API_DDB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_API_DDB_0" data-points="W3sieCI6MzUzOC4xNzE4NzUsInkiOjExMS4xMjkwMzIyNTgwNjQ1MX0seyJ4IjozNTYzLjE3MTg3NSwieSI6MTA1fSx7IngiOjM2NjIuNzUsInkiOjEwNX0seyJ4IjozNzYyLjMyODEyNSwieSI6OTUuMDIzODg4OTI2Njk5Nzh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3514.996,194L3523.025,197.833C3531.055,201.667,3547.113,209.333,3571.739,213.167C3596.365,217,3629.557,217,3682.41,346.025C3735.262,475.05,3807.775,733.099,3844.031,862.124L3880.287,991.149" id="L_API_SRV_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_API_SRV_0" data-points="W3sieCI6MzUxNC45OTYxOTkzMjQzMjQsInkiOjE5NH0seyJ4IjozNTYzLjE3MTg3NSwieSI6MjE3fSx7IngiOjM2NjIuNzUsInkiOjIxN30seyJ4IjozODgxLjM2OTA3MTI5NzQyOTQsInkiOjk5NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3080.648,202L3097.477,202C3114.305,202,3147.961,202,3180.236,197.977C3212.512,193.954,3243.406,185.909,3258.854,181.886L3274.301,177.863" id="L_SWG_API_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SWG_API_0" data-points="W3sieCI6MzA4MC42NDg0Mzc1LCJ5IjoyMDJ9LHsieCI6MzE4MS42MTcxODc1LCJ5IjoyMDJ9LHsieCI6MzI3OC4xNzE4NzUsInkiOjE3Ni44NTQ5NjA1MTU4Nzk4N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2670.594,616L2674.583,616C2678.573,616,2686.552,616,2699.336,529.667C2712.12,443.333,2729.708,270.667,2747.297,184.333C2764.885,98,2782.474,98,2803.923,98C2825.372,98,2850.682,98,2863.337,98L2875.992,98" id="L_MAP_GATE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MAP_GATE_0" data-points="W3sieCI6MjY2Ni41OTM3NSwieSI6NjE2fSx7IngiOjI2OTQuNTMxMjUsInkiOjYxNn0seyJ4IjoyNzQ3LjI5Njg3NSwieSI6OTh9LHsieCI6MjgwMC4wNjI1LCJ5Ijo5OH0seyJ4IjoyODc5Ljk5MjE4NzUsInkiOjk4fV0=" marker-start="url(#my-svg_flowchart-v2-pointStart)" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2633.008,720L2643.262,720C2653.516,720,2674.023,720,2693.072,778C2712.12,836,2729.708,952,2747.297,1010C2764.885,1068,2782.474,1068,2817.102,1068C2851.729,1068,2903.396,1068,2966.988,1068C3030.581,1068,3106.099,1068,3181.617,1068C3257.135,1068,3332.654,1068,3396.246,1068C3459.839,1068,3511.505,1068,3553.935,1068C3596.365,1068,3629.557,1068,3662.091,1065.64C3694.624,1063.28,3726.498,1058.559,3742.434,1056.199L3758.371,1053.839" id="L_GRAF_SRV_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_GRAF_SRV_0" data-points="W3sieCI6MjYzMy4wMDc4MTI1LCJ5Ijo3MjB9LHsieCI6MjY5NC41MzEyNSwieSI6NzIwfSx7IngiOjI3NDcuMjk2ODc1LCJ5IjoxMDY4fSx7IngiOjI4MDAuMDYyNSwieSI6MTA2OH0seyJ4IjoyOTU1LjA2MjUsInkiOjEwNjh9LHsieCI6MzE4MS42MTcxODc1LCJ5IjoxMDY4fSx7IngiOjM0MDguMTcxODc1LCJ5IjoxMDY4fSx7IngiOjM1NjMuMTcxODc1LCJ5IjoxMDY4fSx7IngiOjM2NjIuNzUsInkiOjEwNjh9LHsieCI6Mzc2Mi4zMjgxMjUsInkiOjEwNTMuMjUyNzA1MzY5OTA0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2631.859,824L2642.305,824C2652.75,824,2673.641,824,2692.88,872C2712.12,920,2729.708,1016,2747.297,1064C2764.885,1112,2782.474,1112,2817.102,1112C2851.729,1112,2903.396,1112,2966.988,1112C3030.581,1112,3106.099,1112,3181.617,1112C3257.135,1112,3332.654,1112,3396.246,1112C3459.839,1112,3511.505,1112,3553.935,1112C3596.365,1112,3629.557,1112,3664.654,1105.714C3699.751,1099.429,3736.751,1086.858,3755.251,1080.572L3773.752,1074.287" id="L_CLI_SRV_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CLI_SRV_0" data-points="W3sieCI6MjYzMS44NTkzNzUsInkiOjgyNH0seyJ4IjoyNjk0LjUzMTI1LCJ5Ijo4MjR9LHsieCI6Mjc0Ny4yOTY4NzUsInkiOjExMTJ9LHsieCI6MjgwMC4wNjI1LCJ5IjoxMTEyfSx7IngiOjI5NTUuMDYyNSwieSI6MTExMn0seyJ4IjozMTgxLjYxNzE4NzUsInkiOjExMTJ9LHsieCI6MzQwOC4xNzE4NzUsInkiOjExMTJ9LHsieCI6MzU2My4xNzE4NzUsInkiOjExMTJ9LHsieCI6MzY2Mi43NSwieSI6MTExMn0seyJ4IjozNzc3LjUzOTA2MjUsInkiOjEwNzN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(393, 1026)"><g class="label" data-id="L_CKAN_ING_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>HTTP GET CSV/JSON/GeoJSON</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(889.28125, 968)"><g class="label" data-id="L_ING_RAW_0" transform="translate(-36.28125, -12)"><foreignObject width="72.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>PutObject</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(889.28125, 1084)"><g class="label" data-id="L_ING_REF_0" transform="translate(-36.28125, -12)"><foreignObject width="72.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>PutObject</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1277.921875, 968)"><g class="label" data-id="L_RAW_EMR_0" transform="translate(-17.359375, -12)"><foreignObject width="34.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Read</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EMR_CLEAN_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1940.203125, 407)"><g class="label" data-id="L_CLEAN_CUR_0" transform="translate(-27.765625, -12)"><foreignObject width="55.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Parquet</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2286.6328125, 1032)"><g class="label" data-id="L_CUR_JOIN_0" transform="translate(-72.8984375, -12)"><foreignObject width="145.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Read + REF polygons</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2747.296875, 481)"><g class="label" data-id="L_JOIN_CURA_0" transform="translate(-27.765625, -12)"><foreignObject width="55.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Parquet</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3181.6171875, 444)"><g class="label" data-id="L_JOIN_SRV_0" transform="translate(-47.2109375, -12)"><foreignObject width="94.421875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>JSON exports</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3181.6171875, 994)"><g class="label" data-id="L_CURA_AGG_0" transform="translate(-17.359375, -12)"><foreignObject width="34.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Read</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3610.78462, 736.32924)"><g class="label" data-id="L_AGG_SRV_0" transform="translate(-43.3828125, -12)"><foreignObject width="86.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Scores JSON</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3624.46221, 179.8105)"><g class="label" data-id="L_AGG_DDB_0" transform="translate(-46.4453125, -12)"><foreignObject width="92.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Upsert latest</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GATE_API_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3662.75, 105)"><g class="label" data-id="L_API_DDB_0" transform="translate(-74.578125, -12)"><foreignObject width="149.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>GET latest/historical</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3662.75, 217)"><g class="label" data-id="L_API_SRV_0" transform="translate(-57.203125, -12)"><foreignObject width="114.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>GET static JSON</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3181.6171875, 202)"><g class="label" data-id="L_SWG_API_0" transform="translate(-57.9375, -12)"><foreignObject width="115.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Publish OpenAPI</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2747.296875, 98)"><g class="label" data-id="L_MAP_GATE_0" transform="translate(-22.8359375, -12)"><foreignObject width="45.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>HTTPS</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3181.6171875, 1068)"><g class="label" data-id="L_GRAF_SRV_0" transform="translate(-41.375, -12)"><foreignObject width="82.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>HTTPS read</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3181.6171875, 1112)"><g class="label" data-id="L_CLI_SRV_0" transform="translate(-71.5546875, -12)"><foreignObject width="143.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>S3 Select/Download</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-CKAN-0" transform="translate(138, 1026)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>CKAN APIs (Crimes, Accidents)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ING-1" transform="translate(673, 1026)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Batch Ingest (Python: fetch_ckan_resource.py)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-RAW-2" transform="translate(1105.5625, 968)"><rect class="basic label-container" style="" x="-47.4609375" y="-27" width="94.921875" height="54"/><g class="label" style="" transform="translate(-17.4609375, -12)"><rect/><foreignObject width="34.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>/raw</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-REF-3" transform="translate(1105.5625, 1084)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>/ref (boroughs.geojson WGS84)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CUR-4" transform="translate(2090.8515625, 1032)"><rect class="basic label-container" style="" x="-97.8828125" y="-27" width="195.765625" height="54"/><g class="label" style="" transform="translate(-67.8828125, -12)"><rect/><foreignObject width="135.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>/curated (Parquet)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CURA-5" transform="translate(2955.0625, 994)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>/curated/*_areas (joined to boroughs)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-SRV-6" transform="translate(3892.328125, 1034)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>/served (JSON for apps/dashboards)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EMR-7" transform="translate(1461.359375, 407)"><rect class="basic label-container" style="" x="-116.078125" y="-27" width="232.15625" height="54"/><g class="label" style="" transform="translate(-86.078125, -12)"><rect/><foreignObject width="172.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Spark on EMR Serverless</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CLEAN-8" transform="translate(1757.4375, 407)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>10_clean_normalize.py (crime, accidents)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-JOIN-9" transform="translate(2539.53125, 460)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>20_join_areas.py (point-in-borough + optional grid)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AGG-10" transform="translate(3408.171875, 370)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>30_aggregate_scores.py (optional)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DDB-11" transform="translate(3892.328125, 82)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>DynamoDB (optional): AreaScores</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-API-12" transform="translate(3408.171875, 143)"><rect class="basic label-container" style="" x="-130" y="-51" width="260" height="102"/><g class="label" style="" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>FastAPI service (/areas, /areas/{id}, /areas/{id}/scores)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GATE-13" transform="translate(2955.0625, 98)"><rect class="basic label-container" style="" x="-75.0703125" y="-27" width="150.140625" height="54"/><g class="label" style="" transform="translate(-45.0703125, -12)"><rect/><foreignObject width="90.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API Gateway</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-SWG-14" transform="translate(2955.0625, 202)"><rect class="basic label-container" style="" x="-125.5859375" y="-27" width="251.171875" height="54"/><g class="label" style="" transform="translate(-95.5859375, -12)"><rect/><foreignObject width="191.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>SwaggerHub (OpenAPI 3.0)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-MAP-15" transform="translate(2539.53125, 616)"><rect class="basic label-container" style="" x="-127.0625" y="-27" width="254.125" height="54"/><g class="label" style="" transform="translate(-97.0625, -12)"><rect/><foreignObject width="194.125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Web Map (Leaflet/Mapbox)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GRAF-16" transform="translate(2539.53125, 720)"><rect class="basic label-container" style="" x="-93.4765625" y="-27" width="186.953125" height="54"/><g class="label" style="" transform="translate(-63.4765625, -12)"><rect/><foreignObject width="126.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Grafana Geomaps</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CLI-17" transform="translate(2539.53125, 824)"><rect class="basic label-container" style="" x="-92.328125" y="-27" width="184.65625" height="54"/><g class="label" style="" transform="translate(-62.328125, -12)"><rect/><foreignObject width="124.65625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analysts / Scripts</p></span></div></foreignObject></g></g></g></g></g></svg>